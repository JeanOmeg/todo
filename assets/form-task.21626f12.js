import{T as b,u as y,Q as v,a as p}from"./ToolBar.69cb9926.js";import{z as h,G as S,b0 as k,o as Q,s as _,_ as T,A as V,B as f,H as w,E as o,D as c,I as C,J as n,Q as q,K as B,C as $,ac as z,L as g}from"./index.5a8eee89.js";import{Q as I}from"./QSelect.70906071.js";import{Q as N}from"./QForm.3fe8f417.js";import{t as E}from"./tasks.3693129a.js";import"./QResizeObserver.bdd83c8c.js";import"./axios.c50cf50a.js";var F=h({name:"FormTask",components:{ToolBar:b},setup(){const{post:t,getById:s,update:d}=E(),r=y(),i=S(),l=k();Q(()=>{(localStorage.getItem("logout")===null||localStorage.getItem("logout")==="true")&&i.push({name:"notFound"}),l.params.id&&e(l.params.id)});const a=_({title:"",status:""}),e=async m=>{try{const[u]=await s(m);a.value=u}catch(u){console.error(u)}};return{form:a,onSubmit:async()=>{try{a.value.id?await d(a.value,l.params.id):await t(a.value),a.value.id?r.notify({message:"Edited",icon:"check",color:"positive"}):r.notify({message:"Created",icon:"check",color:"positive"}),i.push({name:"home"})}catch(m){r.notify({message:"Error! Not logged or error connection server",icon:"error",color:"negative"}),console.error(m)}},options:["Not started","Started","Paused","Done"]}}});const j=F,D={class:"row justify-center items-center content-center col-12"},P={class:"col-8 q-gutter-sm q-col-gutter-sm"},R=n("div",{class:"row justify-center text-bold text-primary",style:{"font-size":"1.5em"}}," Create or edit your task ",-1),U={class:"row justify-between"};function A(t,s,d,r,i,l){const a=V("tool-bar");return f(),w(C,null,[o(a),o(v,null,{default:c(()=>[n("div",D,[n("div",P,[o(p),R,o(p),o(q,{bordered:"",class:"q-pa-md"},{default:c(()=>[o(N,{onSubmit:t.onSubmit,class:"q-gutter-md"},{default:c(()=>[o(B,{modelValue:t.form.title,"onUpdate:modelValue":s[0]||(s[0]=e=>t.form.title=e),square:"",filled:"",clearable:"",label:"Title","hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||"Title is required. Title cannot be empty!",e=>e&&e.length<150||"Title cannot be longer than 150 characters"]},null,8,["modelValue","rules"]),t.form.status?(f(),$(I,{key:0,modelValue:t.form.status,"onUpdate:modelValue":s[1]||(s[1]=e=>t.form.status=e),options:t.options,square:"",filled:"",label:"Status"},null,8,["modelValue","options"])):z("",!0),n("div",U,[o(g,{label:"Cancel",color:"negative","text-color":"white",size:"md",to:{name:"home"}}),o(g,{label:"Save",color:"primary",type:"submit",size:"md"})])]),_:1},8,["onSubmit"])]),_:1})])])]),_:1})],64)}var W=T(j,[["render",A]]);export{W as default};
